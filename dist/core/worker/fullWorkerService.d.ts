import { Group } from "spritejs";
import { ISubWorkerInitOption } from "./base";
import { VNodeManager } from "../vNodeManager";
import { IBatchMainMessage, IServiceWorkItem, IWorkerMessage } from "../types";
import { EToolsKey } from "../enum";
import { BaseShapeOptions } from "../tools";
import { WorkThreadEngineForFullWorker } from "./workerManager";
export interface ServiceWork {
    readonly viewId: string;
    readonly vNodes: VNodeManager;
    readonly fullLayer: Group;
    readonly drawLayer: Group;
    readonly post: (msg: IBatchMainMessage) => void;
    selectorWorkShapes: Map<string, IServiceWorkItem>;
    runSelectWork(data: IWorkerMessage): void;
    consumeDraw(data: IWorkerMessage): void;
    setNodeKey(workId: string, workShape: IServiceWorkItem, tools: EToolsKey, opt: BaseShapeOptions): IServiceWorkItem;
    runReverseSelectWork(selectIds: string[]): void;
    removeWork(data: IWorkerMessage): Promise<void>;
    removeSelectWork(data: IWorkerMessage): void;
    runSelectWork(data: IWorkerMessage): void;
    consumeFull(data: IWorkerMessage): void;
    consumeDraw(data: IWorkerMessage): void;
    destroy(): void;
}
export declare class ServiceWorkForFullWorker implements ServiceWork {
    viewId: string;
    vNodes: VNodeManager;
    fullLayer: Group;
    drawLayer: Group;
    workShapes: Map<string, IServiceWorkItem>;
    selectorWorkShapes: Map<string, IServiceWorkItem>;
    thread: WorkThreadEngineForFullWorker;
    protected animationId?: number | undefined;
    private willRunEffectSelectorIds;
    private runEffectId?;
    private noAnimationRect;
    private syncUnitTime;
    post: (msg: IBatchMainMessage) => Promise<void>;
    constructor(opt: ISubWorkerInitOption);
    destroy(): void;
    consumeDraw(data: IWorkerMessage): Promise<void>;
    consumeFull(data: IWorkerMessage): void;
    runSelectWork(data: IWorkerMessage): void;
    setNodeKey(workId: string, workShape: IServiceWorkItem, tools: EToolsKey, opt: BaseShapeOptions): IServiceWorkItem;
    runReverseSelectWork(selectIds: string[]): void;
    removeWork(data: IWorkerMessage): Promise<void>;
    removeSelectWork(data: IWorkerMessage): void;
    private removeNode;
    private activeWorkShape;
    private hasDiffData;
    private animationDraw;
    private runAnimation;
    private computNextAnimationIndex;
    private runEffect;
    private effectRunSelector;
    private activeSelectorShape;
}
