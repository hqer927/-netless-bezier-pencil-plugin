import { SubServiceWork } from "../base";
import { IServiceWorkItem, IWorkerMessage, IBatchMainMessage, BaseNodeMapItem } from "../types";
import type { Group } from "spritejs";
export declare class SubServiceWorkForWorker extends SubServiceWork {
    protected workShapes: Map<string, IServiceWorkItem>;
    protected animationId?: number | undefined;
    selectorWorkShapes: Map<string, IServiceWorkItem>;
    _post: (msg: IBatchMainMessage) => Promise<void>;
    private willRunEffectSelectorIds;
    private runEffectId?;
    private noAnimationRect;
    constructor(curNodeMap: Map<string, BaseNodeMapItem>, layer: Group, drawLayer: Group, postFun: (msg: IBatchMainMessage) => Promise<void>);
    private activeWorkShape;
    private activeSelectorShape;
    private setNodeKey;
    private computNextAnimationIndex;
    private animationDraw;
    private runEffect;
    private runAnimation;
    consumeDraw(data: IWorkerMessage): undefined;
    consumeFull(data: IWorkerMessage): undefined;
    clearAllWorkShapesCache(): void;
    runSelectWork(data: IWorkerMessage): void;
    removeSelectWork(data: IWorkerMessage): void;
    private effectRunSelector;
    removeWork(data: IWorkerMessage): void;
    private removeNode;
    private getNodeRect;
    runReverseSelectWork(selectIds: string[]): void;
}
